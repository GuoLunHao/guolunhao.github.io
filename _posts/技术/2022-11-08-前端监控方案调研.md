---
layout: single
title: "前端监控方案调研"
date: 2022-11-08 15:07:00 +0800
tags: 前端监控
categories: 技术
---

## 一、前端监控意义

前端监控的目的是：

- 获取用户行为以及跟踪产品在用户端的使用情况，并以监控数据为基础，指明产品优化的方向。
- 更快的发现发现异常、定位异常、解决异常
- 对项目运行情况的性能分析

前端监控可以分为三类：数据监控、性能监控和异常监控。

### 1. 数据监控

数据监控，顾名思义就是监听用户的行为。常见的数据监控包括：

- PV/UV:PV(page view)，即页面浏览量或点击量。UV:指访问某个站点或点击某条新闻的不同IP地址的人数
- 用户在每一个页面的停留时间
- 用户通过什么入口来访问该网页
- 用户在相应的页面中触发的行为

### 2. 性能监控

性能监控指的是监听前端的性能，主要包括监听网页或者说产品在用户端的体验。常见的性能监控数据包括：

- 不同用户，不同机型和不同系统下的首屏加载时间
- 白屏时间
- http等请求的响应时间
- 静态资源整体下载时间
- 页面渲染时间
- 页面交互动画完成时间

这些性能监控的结果，可以展示前端性能的好坏，根据性能监测的结果可以进一步的去优化前端性能，比如兼容低版本浏览器的动画效果，加快首屏加载等等。

### 3. 异常监控

此外，产品的前端代码在执行过程中也会发生异常，因此需要引入异常监控。及时的上报异常情况，可以避免线上故障的发生。虽然大部分异常可以通过try catch的方式捕获，但是比如内存泄漏以及其他偶现的异常难以捕获。常见的需要监控的异常包括：

- Javascript的异常监控
- 样式丢失的异常监控
- 接口请求的异常监控

## 二、常用商业前端监控系统介绍

### 1. [Sentry](https://sentry.io/welcome/){:target="_blank"}

- 有SaaS平台，但服务器在国外，访问较慢
- 支持Docker容器化部署，开源免费
- 支持web应用、服务端监控
- 支持异常监控、性能监控
- 不支持数据监控
- 维护团队也为国外开发者，沟通成本较高

### 2. [Webfunny](https://www.webfunny.cn/home.html){:target="_blank"}

- 支持Docker容器化部署，1050/年起，4万买断终身免费升级、技术维护，最多不限项目、不限人数、自定义存储周期
- 支持Web应用、微信小程序
- 支持异常监控、性能监控、数据监控
- 支持自定义埋点
- 支持用户细查和用户行为分析，可根据userId查询用户行为（浏览记录、接口调用记录、错误记录）
- 支持连线用户（远程调试），可根据userId实时查询用户的访问和日志，辅助查询问题
- 没有SaaS平台

### 3. [FunDebug](https://www.fundebug.com/){:target="_blank"}

- 有SaaS化平台，按流量和项目书收费，1524元/年 到6万/年不等，最多支持100个成员、400个项目，数据保留一个月
- 支持Docker容器化部署，30万/年起
- 支持Web应用、微信小程序、支付宝小程序
- 支持应用内异常监控
- 不支持性能监控和数据监控
- 不支持自定义埋点

### 4. [ARMS](https://help.aliyun.com/document_detail/58652.html){:target="_blank"}

- 有SaaS化平台，按上报量收费，200万上报次数 840元/年, 6亿次上报次数 6万/年，数据保留一个月
- 支持异常监控、性能监控
- 支持Web应用、微信小程序、支付宝小程序、微信小程序
- 支持自定义埋点
- 支持将项目的userId和上报数据关联
- 不支持私有化部署

### 5. [frontjs](https://www.frontjs.com/){:target="_blank"}

- 有SaaS平台, 基础版免费，不限项目数，数据保留24小时，每分钟监控2000个事件。高级版数据保留90天，监控事件不限量，按天收费，30元/天，约1万/年。
- 支持Web应用、微信小程序
- 支持应用内异常监控、性能监控、数据监控
- 不支持私有化部署

### 6. [GrowingIO](https://www.growingio.com/){:target="_blank"}

- 有SaaS平台，30万/年，或80万买断
- 支持Web应用
- 丰富的用户行为分析，更着重于产品运营、营销和推广方面的数据分析
- 没有异常监控、性能监控
- 不支持私有化部署

### 7. [神策数据](https://www.sensorsdata.cn/){:target="_blank"}

- 有SaaS平台，5万/年
- 支持私有部署， 18万/年
- 与GrowingIO类似，更着重于用户行为分析的数据分析上，没有技术层面的异常监控、性能监控


## 三、前端监控系统对比



|功能特点|SaaS平台|私有化部署|错误监控|性能监控|数据监控|自定义埋点|其他特点|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|sentry|支持，服务器在国外|Docker容器化部署，免费|支持|支持|不支持|支持|Github 32K高星|
|webfunny|不支持|Docker容器化部署,1050/年起，4万终身买断|支持|支持|支持|支持|支持用userId进行用户细查|
|Arms|840元/年起，6万/年|不支持|支持|支持|支持|支持|
|funDebug|1524元/年起|Docker容器化部署,30万/年起|支持|不支持|不支持|不支持|支持自动录屏并随错误日志上报|
|frontjs|30元/天|不支持|支持|支持|支持|支持|
|GrowingIO|30万/年，或80万买断|不支持|不支持|不支持|支持|支持|更丰富的运营角度的用户行为分析|
|神策|5万/年|18万/年|不支持|不支持|支持|支持|更丰富的运营角度的用户行为分析|

## 四、参考链接

1. [https://zhuanlan.zhihu.com/p/406728292](https://zhuanlan.zhihu.com/p/406728292){:target="_blank"}
2. [https://blog.csdn.net/qq_37247349/article/details/124628329](https://blog.csdn.net/qq_37247349/article/details/124628329){:target="_blank"}
3. [https://www.cnblogs.com/hacker-linner/p/15256763.html](https://www.cnblogs.com/hacker-linner/p/15256763.html){:target="_blank"}
4. [https://www.webfunny.cn/blog/post/72](https://www.webfunny.cn/blog/post/72){:target="_blank"}